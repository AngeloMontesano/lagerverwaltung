<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lagerverwaltung</title>

    <!-- =============================================
         ğŸ”¹ Stylesheets einbinden
    ============================================= -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
	
	<!-- SweetAlert2 CSS & JS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	
	
</head>
<body>

    <!-- =============================================
         ğŸ”¹ Flash-Nachrichten einbinden
    ============================================= -->
    {% include "_notifications.html" %}

    <!-- =============================================
         ğŸ”¹ Navigationsleiste
    ============================================= -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('dashboard.dashboard_page') }}">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" height="60">
                     Flow
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('dashboard.dashboard_page') }}">ğŸ“Š Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('artikel.artikelverwaltung') }}">ğŸ“¦ Artikelverwaltung</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('bestandsverwaltung.bestandsseite') }}">ğŸ“ Lager</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('inventur.inventurseite') }}">ğŸ“‹ Inventur</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('berichte.berichte_dashboard') }}">ğŸ“‘ Berichte</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('bestellungen.bestellung_uebersicht') }}">ğŸ›’ Bestellungen</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://pfersich.de/online-shop/" target="_blank" rel="noopener noreferrer">ğŸ›ï¸ E-Shop</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('einstellungen.einstellungen') }}">âš™ï¸ Einstellungen</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- =============================================
         ğŸ”¹ Hauptinhalt (Dynamischer Block)
    ============================================= -->
    <div class="container mt-2">
        {% block content %}{% endblock %}
    </div>

    <!-- =============================================
         ğŸ”¹ Bootstrap JavaScript einbinden
    ============================================= -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- =============================================
         ğŸ”¹ Flash-Messages automatisch anzeigen
    ============================================= -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        function showFlashMessage(message, category="success") {
            let flashContainer = document.getElementById("flash-messages");
            let flashMessage = document.createElement("div");
            flashMessage.className = `alert alert-${category} alert-dismissible fade show`;
            flashMessage.style.marginBottom = "10px";
            flashMessage.innerHTML = `${message} <button type="button" class="btn-close" data-bs-dismiss="alert"></button>`;
            flashContainer.appendChild(flashMessage);
            setTimeout(() => flashMessage.remove(), 5000);
        }

        function fetchFlashMessages() {
            fetch("/get_flash_messages")
                .then(response => response.json())
                .then(data => {
                    data.messages.forEach(msg => showFlashMessage(msg.text, msg.category));
                })
                .catch(error => console.error("âŒ Fehler beim Laden der Flash-Messages:", error));
        }
        fetchFlashMessages();
    });
    </script>
	
	<script>
	document.addEventListener("DOMContentLoaded", function () {
		let notifications = document.querySelectorAll(".notification");
		notifications.forEach((notification) => {
			setTimeout(() => {
				notification.style.opacity = "0";
				setTimeout(() => notification.remove(), 500);
			}, 5000);
		});
	});
	</script>

	
</body>
</html>
